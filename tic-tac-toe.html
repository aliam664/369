<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¨Ø§Ø²ÛŒ Ø¯ÙˆØ² - Tic Tac Toe | Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ù„Ø§Ø³ÛŒÚ©</title>
    
    <!-- ÙÙˆÙ†Øª ÙØ§Ø±Ø³ÛŒ Vazirmatn -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Ø§Ø³ØªØ§ÛŒÙ„ Ø¨Ø§Ø²ÛŒ Ø¯ÙˆØ² -->
    <link rel="stylesheet" href="tic-tac-toe.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>âŒ</text></svg>">
    
    <style>
        /* Ø§Ù†ÛŒÙ…ÛŒØ´Ù†â€ŒÙ‡Ø§ÛŒ Ø®Ø§Øµ Ø¨Ø§Ø²ÛŒ Ø¯ÙˆØ² */
        @keyframes winLine {
            0% { width: 0; opacity: 0; }
            100% { width: 100%; opacity: 1; }
        }
        
        @keyframes winCell {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        @keyframes drawCells {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(1deg); }
            75% { transform: rotate(-1deg); }
        }
        
        @keyframes moveIndicator {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
            100% { transform: translateY(0px); }
        }
        
        @keyframes confetti {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(500px) rotate(360deg); opacity: 0; }
        }
        
        @keyframes scoreIncrement {
            0% { transform: scale(1); }
            50% { transform: scale(1.5); }
            100% { transform: scale(1); }
        }
        
        @keyframes aiThinking {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }
        
        .win-line {
            position: absolute;
            height: 8px;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6, #ec4899);
            border-radius: 4px;
            z-index: 1;
            animation: winLine 1s ease-out forwards;
            box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
        }
        
        .win-cell {
            animation: winCell 0.5s ease-in-out 3;
        }
        
        .draw-animation {
            animation: drawCells 0.5s ease-in-out 3;
        }
        
        .current-turn {
            animation: moveIndicator 2s ease-in-out infinite;
        }
        
        .score-updated {
            animation: scoreIncrement 0.5s ease-in-out;
        }
        
        .ai-thinking {
            animation: aiThinking 1s ease-in-out infinite;
        }
        
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: linear-gradient(45deg, #3b82f6, #8b5cf6, #ec4899);
            border-radius: 50%;
            opacity: 0;
            pointer-events: none;
        }
        
        .cell-placeholder {
            opacity: 0.3;
            animation: pulse 2s infinite;
        }
        
        .streak-badge {
            background: linear-gradient(45deg, #f59e0b, #f97316);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            animation: pulse 2s infinite;
        }
        
        .timer-pulse {
            animation: pulse 1s infinite;
        }
        
        .sound-toggle.active i {
            animation: rotate 2s linear infinite;
        }
        
        .hint-flash {
            animation: pulse 1s ease-in-out 3;
        }
    </style>
</head>
<body>
    <!-- ØµÙØ­Ù‡ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¨Ø§Ø²ÛŒ -->
    <div id="game-loading" class="game-loading">
        <div class="game-loader">
            <div class="tic-tac-toe-loader">
                <div class="cell-loader x-loader">Ã—</div>
                <div class="cell-loader"></div>
                <div class="cell-loader o-loader">â—‹</div>
                <div class="cell-loader o-loader">â—‹</div>
                <div class="cell-loader x-loader">Ã—</div>
                <div class="cell-loader"></div>
                <div class="cell-loader"></div>
                <div class="cell-loader x-loader">Ã—</div>
                <div class="cell-loader o-loader">â—‹</div>
            </div>
            <p class="game-loading-text">Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¨Ø§Ø²ÛŒ Ø¯ÙˆØ²...</p>
        </div>
    </div>

    <!-- Ù‡Ø¯Ø± Ø¨Ø§Ø²ÛŒ -->
    <header class="game-header">
        <div class="container">
            <div class="game-navbar">
                <a href="index.html" class="back-to-home">
                    <i class="fas fa-arrow-right"></i>
                    <span>Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø®Ø§Ù†Ù‡</span>
                </a>
                
                <div class="game-title">
                    <h1>
                        <i class="fas fa-times x-title"></i>
                        Ø¨Ø§Ø²ÛŒ Ø¯ÙˆØ²
                        <i class="fas fa-circle o-title"></i>
                    </h1>
                    <p class="game-subtitle">Ú©Ù„Ø§Ø³ÛŒÚ© ØªØ±ÛŒÙ† Ø¨Ø§Ø²ÛŒ Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒÚ©</p>
                </div>
                
                <div class="game-controls-top">
                    <button class="sound-toggle" id="soundToggle" aria-label="ØµØ¯Ø§ÛŒ Ø¨Ø§Ø²ÛŒ">
                        <i class="fas fa-volume-up"></i>
                    </button>
                    <button class="theme-toggle-game" id="themeToggleGame" aria-label="ØªØºÛŒÛŒØ± ØªÙ…">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Ø¨Ø®Ø´ Ø§ØµÙ„ÛŒ Ø¨Ø§Ø²ÛŒ -->
    <main class="game-main">
        <div class="container">
            <div class="game-layout">
                <!-- Ù¾Ù†Ù„ Ú†Ù¾: Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù† -->
                <div class="player-panel">
                    <!-- Ø¨Ø§Ø²ÛŒÚ©Ù† X -->
                    <div class="player-card player-x-card active-player" id="playerXCard">
                        <div class="player-header">
                            <div class="player-icon">
                                <i class="fas fa-times"></i>
                            </div>
                            <div class="player-info">
                                <h3 class="player-name" id="playerXName">Ø¨Ø§Ø²ÛŒÚ©Ù† X</h3>
                                <div class="player-type">
                                    <span class="player-type-badge human">Ø§Ù†Ø³Ø§Ù†</span>
                                    <button class="change-type-btn" data-player="x">
                                        <i class="fas fa-sync-alt"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="player-stats">
                            <div class="stat">
                                <div class="stat-label">Ø§Ù…ØªÛŒØ§Ø²</div>
                                <div class="stat-value score-updated" id="playerXScore">0</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">Ø¨Ø±Ø¯</div>
                                <div class="stat-value" id="playerXWins">0</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§Ø²ÛŒ</div>
                                <div class="stat-value" id="playerXGames">0</div>
                            </div>
                        </div>
                        
                        <div class="player-status">
                            <div class="turn-indicator current-turn" id="xTurnIndicator">
                                <i class="fas fa-chess-queen"></i>
                                <span>Ù†ÙˆØ¨Øª Ø´Ù…Ø§Ø³Øª</span>
                            </div>
                            <div class="thinking-indicator ai-thinking" id="xThinking" style="display: none;">
                                <i class="fas fa-brain"></i>
                                <span>Ø¯Ø± Ø­Ø§Ù„ ÙÚ©Ø± Ú©Ø±Ø¯Ù†...</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ø¨Ø§Ø²ÛŒÚ©Ù† O -->
                    <div class="player-card player-o-card" id="playerOCard">
                        <div class="player-header">
                            <div class="player-icon">
                                <i class="fas fa-circle"></i>
                            </div>
                            <div class="player-info">
                                <h3 class="player-name" id="playerOName">Ø¨Ø§Ø²ÛŒÚ©Ù† O</h3>
                                <div class="player-type">
                                    <span class="player-type-badge human">Ø§Ù†Ø³Ø§Ù†</span>
                                    <button class="change-type-btn" data-player="o">
                                        <i class="fas fa-sync-alt"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="player-stats">
                            <div class="stat">
                                <div class="stat-label">Ø§Ù…ØªÛŒØ§Ø²</div>
                                <div class="stat-value" id="playerOScore">0</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">Ø¨Ø±Ø¯</div>
                                <div class="stat-value" id="playerOWins">0</div>
                            </div>
                            <div class="stat">
                                <div class="stat-label">ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§Ø²ÛŒ</div>
                                <div class="stat-value" id="playerOGames">0</div>
                            </div>
                        </div>
                        
                        <div class="player-status">
                            <div class="turn-indicator" id="oTurnIndicator">
                                <i class="fas fa-clock"></i>
                                <span>Ù…Ù†ØªØ¸Ø± Ù†ÙˆØ¨Øª</span>
                            </div>
                            <div class="thinking-indicator ai-thinking" id="oThinking" style="display: none;">
                                <i class="fas fa-brain"></i>
                                <span>Ø¯Ø± Ø­Ø§Ù„ ÙÚ©Ø± Ú©Ø±Ø¯Ù†...</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ø¢Ù…Ø§Ø± Ú©Ù„ÛŒ -->
                    <div class="game-stats-card">
                        <h4><i class="fas fa-chart-bar"></i> Ø¢Ù…Ø§Ø± Ú©Ù„ÛŒ</h4>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="stat-icon">
                                    <i class="fas fa-gamepad"></i>
                                </div>
                                <div>
                                    <div class="stat-number" id="totalGames">0</div>
                                    <div class="stat-label">Ú©Ù„ Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§</div>
                                </div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-icon">
                                    <i class="fas fa-handshake"></i>
                                </div>
                                <div>
                                    <div class="stat-number" id="totalDraws">0</div>
                                    <div class="stat-label">ØªØ³Ø§ÙˆÛŒ</div>
                                </div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <div>
                                    <div class="stat-number" id="totalTime">0</div>
                                    <div class="stat-label">Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¨Ø§Ø²ÛŒ</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="streak-section">
                            <h5>Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ø´Ù…Ø§</h5>
                            <div class="streaks">
                                <div class="streak">
                                    <span>Ø¨ÛŒØ´ØªØ±ÛŒÙ† Ø¨Ø±Ø¯ Ù…ØªÙˆØ§Ù„ÛŒ:</span>
                                    <span class="streak-badge" id="winStreak">0</span>
                                </div>
                                <div class="streak">
                                    <span>Ø³Ø±ÛŒØ¹â€ŒØªØ±ÛŒÙ† Ø¨Ø±Ø¯:</span>
                                    <span class="streak-badge" id="fastestWin">-</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Ø¨Ø®Ø´ Ù…Ø±Ú©Ø²ÛŒ: ØªØ®ØªÙ‡ Ø¨Ø§Ø²ÛŒ -->
                <div class="game-center">
                    <!-- ØªØ®ØªÙ‡ Ø¨Ø§Ø²ÛŒ -->
                    <div class="game-board-container">
                        <div class="board-header">
                            <div class="game-mode-selector">
                                <button class="mode-btn active" data-mode="pvp">
                                    <i class="fas fa-user-friends"></i>
                                    Ø¯Ùˆ Ù†ÙØ±Ù‡
                                </button>
                                <button class="mode-btn" data-mode="easy">
                                    <i class="fas fa-robot"></i>
                                    Ø¢Ø³Ø§Ù†
                                </button>
                                <button class="mode-btn" data-mode="medium">
                                    <i class="fas fa-brain"></i>
                                    Ù…ØªÙˆØ³Ø·
                                </button>
                                <button class="mode-btn" data-mode="hard">
                                    <i class="fas fa-crown"></i>
                                    Ø³Ø®Øª
                                </button>
                            </div>
                            
                            <div class="game-timer">
                                <i class="fas fa-hourglass-half"></i>
                                <span id="gameTimer">00:00</span>
                            </div>
                        </div>
                        
                        <div class="game-board" id="gameBoard">
                            <!-- Ø®Ø·ÙˆØ· Ø¨Ø±Ù†Ø¯Ù‡ (Ù¾ÙˆÛŒØ§ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯) -->
                            <div id="winLines"></div>
                            
                            <!-- Ø³Ù„ÙˆÙ„â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒ -->
                            <div class="cell" data-index="0"></div>
                            <div class="cell" data-index="1"></div>
                            <div class="cell" data-index="2"></div>
                            <div class="cell" data-index="3"></div>
                            <div class="cell" data-index="4"></div>
                            <div class="cell" data-index="5"></div>
                            <div class="cell" data-index="6"></div>
                            <div class="cell" data-index="7"></div>
                            <div class="cell" data-index="8"></div>
                        </div>
                        
                        <div class="board-footer">
                            <div class="move-history">
                                <h5><i class="fas fa-history"></i> ØªØ§Ø±ÛŒØ®Ú†Ù‡ Ø­Ø±Ú©Ø§Øª</h5>
                                <div class="moves-list" id="movesList">
                                    <div class="empty-moves">Ù‡Ù†ÙˆØ² Ø­Ø±Ú©ØªÛŒ Ø§Ù†Ø¬Ø§Ù… Ù†Ø´Ø¯Ù‡</div>
                                </div>
                            </div>
                            
                            <div class="hint-section">
                                <button class="hint-btn" id="hintBtn" title="Ø¯Ø±ÛŒØ§ÙØª Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ">
                                    <i class="fas fa-lightbulb"></i>
                                    Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ
                                </button>
                                <div class="hint-text" id="hintText">
                                    Ø§ÙˆÙ„ÛŒÙ† Ø­Ø±Ú©Øª Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø± Ù…Ø±Ú©Ø² Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒØ¯
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒ -->
                    <div class="game-controls">
                        <button class="control-btn btn-new-game" id="newGameBtn">
                            <i class="fas fa-plus-circle"></i>
                            Ø¨Ø§Ø²ÛŒ Ø¬Ø¯ÛŒØ¯
                        </button>
                        <button class="control-btn btn-undo" id="undoBtn" disabled>
                            <i class="fas fa-undo"></i>
                            Ø¨Ø§Ø²Ú¯Ø´Øª Ø­Ø±Ú©Øª
                        </button>
                        <button class="control-btn btn-redo" id="redoBtn" disabled>
                            <i class="fas fa-redo"></i>
                            ØªÚ©Ø±Ø§Ø± Ø­Ø±Ú©Øª
                        </button>
                        <button class="control-btn btn-reset-score" id="resetScoreBtn">
                            <i class="fas fa-trash-alt"></i>
                            Ø±ÛŒØ³Øª Ø§Ù…ØªÛŒØ§Ø²
                        </button>
                    </div>
                    
                    <!-- ÙˆØ¶Ø¹ÛŒØª Ø¨Ø§Ø²ÛŒ -->
                    <div class="game-status" id="gameStatus">
                        <div class="status-message">
                            <i class="fas fa-info-circle"></i>
                            <span id="statusText">Ø¨Ø§Ø²ÛŒ Ø±Ø§ Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒØ¯! Ù†ÙˆØ¨Øª Ø¨Ø§Ø²ÛŒÚ©Ù† X Ø§Ø³Øª.</span>
                        </div>
                        <div class="status-actions">
                            <button class="btn-quick-restart" id="quickRestartBtn">
                                <i class="fas fa-sync-alt"></i>
                                Ø´Ø±ÙˆØ¹ Ø³Ø±ÛŒØ¹
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Ù¾Ù†Ù„ Ø±Ø§Ø³Øª: ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ùˆ Ø±Ø§Ù‡Ù†Ù…Ø§ -->
                <div class="settings-panel">
                    <!-- ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨Ø§Ø²ÛŒ -->
                    <div class="settings-card">
                        <h4><i class="fas fa-cog"></i> ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨Ø§Ø²ÛŒ</h4>
                        
                        <div class="setting-group">
                            <label class="setting-label">
                                <span>Ø§Ù†Ø¯Ø§Ø²Ù‡ ØªØ®ØªÙ‡:</span>
                                <select id="boardSize" class="setting-select">
                                    <option value="3">Û³Ã—Û³ (Ú©Ù„Ø§Ø³ÛŒÚ©)</option>
                                    <option value="4">Û´Ã—Û´ (Ù¾ÛŒØ´Ø±ÙØªÙ‡)</option>
                                    <option value="5">ÛµÃ—Ûµ (Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ)</option>
                                </select>
                            </label>
                        </div>
                        
                        <div class="setting-group">
                            <label class="setting-label">
                                <span>Ø²Ù…Ø§Ù† Ù‡Ø± Ø­Ø±Ú©Øª (Ø«Ø§Ù†ÛŒÙ‡):</span>
                                <div class="setting-range">
                                    <input type="range" id="moveTime" min="5" max="60" value="30" class="range-slider">
                                    <span id="moveTimeValue">30</span>
                                </div>
                            </label>
                        </div>
                        
                        <div class="setting-group">
                            <label class="setting-label">
                                <input type="checkbox" id="soundEffects" checked>
                                <span>ØµØ¯Ø§ÛŒ Ø¨Ø§Ø²ÛŒ</span>
                            </label>
                        </div>
                        
                        <div class="setting-group">
                            <label class="setting-label">
                                <input type="checkbox" id="animations" checked>
                                <span>Ø§Ù†ÛŒÙ…ÛŒØ´Ù†â€ŒÙ‡Ø§</span>
                            </label>
                        </div>
                        
                        <div class="setting-group">
                            <label class="setting-label">
                                <input type="checkbox" id="showHints" checked>
                                <span>Ù†Ù…Ø§ÛŒØ´ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ</span>
                            </label>
                        </div>
                        
                        <div class="setting-group">
                            <label class="setting-label">
                                <input type="checkbox" id="highlightMoves" checked>
                                <span>Ù‡Ø§ÛŒÙ„Ø§ÛŒØª Ø­Ø±Ú©Ø§Øª</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¨Ø§Ø²ÛŒ -->
                    <div class="help-card">
                        <h4><i class="fas fa-question-circle"></i> Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø¨Ø§Ø²ÛŒ</h4>
                        
                        <div class="help-content">
                            <div class="help-item">
                                <div class="help-icon">
                                    <i class="fas fa-bullseye"></i>
                                </div>
                                <div class="help-text">
                                    <strong>Ù‡Ø¯Ù Ø¨Ø§Ø²ÛŒ:</strong>
                                    <p>Ø§ÙˆÙ„ÛŒÙ† Ø¨Ø§Ø²ÛŒÚ©Ù†ÛŒ Ú©Ù‡ Û³ Ø¹Ù„Ø§Ù…Øª Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø± ÛŒÚ© Ø±Ø¯ÛŒÙØŒ Ø³ØªÙˆÙ† ÛŒØ§ Ù‚Ø·Ø± Ù‚Ø±Ø§Ø± Ø¯Ù‡Ø¯ Ø¨Ø±Ù†Ø¯Ù‡ Ø§Ø³Øª.</p>
                                </div>
                            </div>
                            
                            <div class="help-item">
                                <div class="help-icon">
                                    <i class="fas fa-chess-board"></i>
                                </div>
                                <div class="help-text">
                                    <strong>Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒâ€ŒÙ‡Ø§:</strong>
                                    <p>â€¢ Ù‡Ù…ÛŒØ´Ù‡ Ù…Ø±Ú©Ø² ÛŒØ§ Ú¯ÙˆØ´Ù‡â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ú¯ÛŒØ±ÛŒØ¯<br>
                                    â€¢ Ø³Ø¹ÛŒ Ú©Ù†ÛŒØ¯ Ø¯Ùˆ Ø¯Ø± ÛŒÚ© Ø±Ø¯ÛŒÙ Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒØ¯<br>
                                    â€¢ Ø­Ø±ÛŒÙ Ø±Ø§ Ù…Ø¬Ø¨ÙˆØ± Ø¨Ù‡ Ø¯ÙØ§Ø¹ Ú©Ù†ÛŒØ¯</p>
                                </div>
                            </div>
                            
                            <div class="help-item">
                                <div class="help-icon">
                                    <i class="fas fa-robot"></i>
                                </div>
                                <div class="help-text">
                                    <strong>Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒ:</strong>
                                    <p>â€¢ Ø¯Ùˆ Ù†ÙØ±Ù‡: Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø¯ÙˆØ³ØªØ§Ù†<br>
                                    â€¢ Ø¢Ø³Ø§Ù†: Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ø³Ø§Ø¯Ù‡<br>
                                    â€¢ Ù…ØªÙˆØ³Ø·: Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ú†Ø§Ù„Ø´ÛŒ<br>
                                    â€¢ Ø³Ø®Øª: Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ø¨Ø±ØªØ± -->
                    <div class="records-card">
                        <h4><i class="fas fa-trophy"></i> Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§ÛŒ Ø¨Ø±ØªØ±</h4>
                        
                        <div class="records-list">
                            <div class="record-item">
                                <div class="record-rank">ğŸ¥‡</div>
                                <div class="record-info">
                                    <div class="record-player">Ø¨Ø§Ø²ÛŒÚ©Ù† X</div>
                                    <div class="record-score">Û±Ûµ Ø¨Ø±Ø¯</div>
                                </div>
                            </div>
                            <div class="record-item">
                                <div class="record-rank">ğŸ¥ˆ</div>
                                <div class="record-info">
                                    <div class="record-player">Ø¨Ø§Ø²ÛŒÚ©Ù† O</div>
                                    <div class="record-score">Û±Û° Ø¨Ø±Ø¯</div>
                                </div>
                            </div>
                            <div class="record-item">
                                <div class="record-rank">ğŸ¥‰</div>
                                <div class="record-info">
                                    <div class="record-player">Ø´Ù…Ø§</div>
                                    <div class="record-score">Û¸ Ø¨Ø±Ø¯</div>
                                </div>
                            </div>
                        </div>
                        
                        <button class="btn-view-all" id="viewAllRecordsBtn">
                            <i class="fas fa-list"></i>
                            Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‡Ù…Ù‡ Ø±Ú©ÙˆØ±Ø¯Ù‡Ø§
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Ù…ÙˆØ¯Ø§Ù„ Ø¨Ø±Ù†Ø¯Ù‡ -->
    <div class="modal" id="winnerModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="winnerTitle">ğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯! ğŸ‰</h2>
                <button class="modal-close" id="modalClose">&times;</button>
            </div>
            
            <div class="modal-body">
                <div class="winner-celebration">
                    <div class="winner-icon" id="winnerIcon">
                        <i class="fas fa-trophy"></i>
                    </div>
                    <div class="winner-message">
                        <h3 id="winnerName">Ø¨Ø§Ø²ÛŒÚ©Ù† X</h3>
                        <p id="winnerDetails">Ø´Ù…Ø§ Ø¯Ø± Ûµ Ø­Ø±Ú©Øª Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯!</p>
                    </div>
                </div>
                
                <div class="winner-stats">
                    <div class="winner-stat">
                        <i class="fas fa-bolt"></i>
                        <div>
                            <div class="stat-value" id="winnerMoves">5</div>
                            <div class="stat-label">ØªØ¹Ø¯Ø§Ø¯ Ø­Ø±Ú©Ø§Øª</div>
                        </div>
                    </div>
                    <div class="winner-stat">
                        <i class="fas fa-clock"></i>
                        <div>
                            <div class="stat-value" id="winnerTime">45</div>
                            <div class="stat-label">Ø«Ø§Ù†ÛŒÙ‡</div>
                        </div>
                    </div>
                    <div class="winner-stat">
                        <i class="fas fa-star"></i>
                        <div>
                            <div class="stat-value" id="winnerPoints">+10</div>
                            <div class="stat-label">Ø§Ù…ØªÛŒØ§Ø²</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn btn-secondary" id="modalRematch">
                    <i class="fas fa-redo"></i>
                    Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯
                </button>
                <button class="btn btn-primary" id="modalNewGame">
                    <i class="fas fa-plus-circle"></i>
                    Ø¨Ø§Ø²ÛŒ Ø¬Ø¯ÛŒØ¯
                </button>
                <button class="btn btn-outline" id="modalShare">
                    <i class="fas fa-share-alt"></i>
                    Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ
                </button>
            </div>
        </div>
    </div>

    <!-- Ù…ÙˆØ¯Ø§Ù„ ØªØ³Ø§ÙˆÛŒ -->
    <div class="modal" id="drawModal">
        <div class="modal-content draw-modal">
            <div class="modal-header">
                <h2>ğŸ¤ Ø¨Ø§Ø²ÛŒ Ù…Ø³Ø§ÙˆÛŒ Ø´Ø¯!</h2>
                <button class="modal-close">&times;</button>
            </div>
            
            <div class="modal-body">
                <div class="draw-celebration">
                    <div class="draw-icon">
                        <i class="fas fa-handshake"></i>
                    </div>
                    <div class="draw-message">
                        <h3>Ù‡ÛŒÚ†Ú©Ø³ Ø¨Ø±Ù†Ø¯Ù‡ Ù†Ø´Ø¯!</h3>
                        <p>Ù‡Ø± Ø¯Ùˆ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¨Ø§Ø²ÛŒ Ø®ÙˆØ¨ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯Ù†Ø¯. Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯!</p>
                    </div>
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn btn-primary" id="drawRematch">
                    <i class="fas fa-redo"></i>
                    Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯
                </button>
            </div>
        </div>
    </div>

    <!-- ØµØ¯Ø§Ù‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒ -->
    <audio id="clickSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3" type="audio/mpeg">
    </audio>
    <audio id="winSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3" type="audio/mpeg">
    </audio>
    <audio id="drawSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-game-ball-tap-2073.mp3" type="audio/mpeg">
    </audio>
    <audio id="errorSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3" type="audio/mpeg">
    </audio>

    <!-- Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø¨Ø§Ø²ÛŒ -->
    <script src="tic-tac-toe.js"></script>
    
    <script>
        // Ø§Ø³Ú©Ø±ÛŒÙ¾Øªâ€ŒÙ‡Ø§ÛŒ Ø§Ø¶Ø§ÙÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ù†ÛŒÙ…ÛŒØ´Ù†â€ŒÙ‡Ø§ Ùˆ ØµØ¯Ø§Ù‡Ø§
        document.addEventListener('DOMContentLoaded', function() {
            // Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¨Ø§Ø²ÛŒ
            setTimeout(() => {
                document.getElementById('game-loading').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('game-loading').style.display = 'none';
                }, 500);
            }, 1000);

            // Ù…Ø¯ÛŒØ±ÛŒØª ØµØ¯Ø§Ù‡Ø§
            const clickSound = document.getElementById('clickSound');
            const winSound = document.getElementById('winSound');
            const drawSound = document.getElementById('drawSound');
            const errorSound = document.getElementById('errorSound');
            
            let soundEnabled = true;
            
            document.getElementById('soundToggle').addEventListener('click', function() {
                soundEnabled = !soundEnabled;
                const icon = this.querySelector('i');
                if (soundEnabled) {
                    icon.classList.remove('fa-volume-mute');
                    icon.classList.add('fa-volume-up');
                    this.classList.add('active');
                } else {
                    icon.classList.remove('fa-volume-up');
                    icon.classList.add('fa-volume-mute');
                    this.classList.remove('active');
                }
            });
            
            // ØªØ§Ø¨Ø¹ Ù¾Ø®Ø´ ØµØ¯Ø§
            window.playSound = function(soundType) {
                if (!soundEnabled) return;
                
                let sound;
                switch(soundType) {
                    case 'click':
                        sound = clickSound;
                        sound.volume = 0.3;
                        break;
                    case 'win':
                        sound = winSound;
                        sound.volume = 0.5;
                        break;
                    case 'draw':
                        sound = drawSound;
                        sound.volume = 0.4;
                        break;
                    case 'error':
                        sound = errorSound;
                        sound.volume = 0.3;
                        break;
                }
                
                sound.currentTime = 0;
                sound.play().catch(e => console.log("ØµØ¯Ø§ Ù¾Ø®Ø´ Ù†Ø´Ø¯:", e));
            };

            // Ù…Ø¯ÛŒØ±ÛŒØª ØªÙ… Ø¨Ø§Ø²ÛŒ
            document.getElementById('themeToggleGame').addEventListener('click', function() {
                document.body.classList.toggle('dark-theme');
                const icon = this.querySelector('i');
                if (document.body.classList.contains('dark-theme')) {
                    icon.classList.remove('fa-moon');
                    icon.classList.add('fa-sun');
                } else {
                    icon.classList.remove('fa-slun');
                    icon.classList.add('fa-moon');
                }
            });

            // Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÙØªÛŒ
            function createConfetti(count = 50) {
                const container = document.querySelector('.game-board-container');
                
                for (let i = 0; i < count; i++) {
                    const confetti = document.createElement('div');
                    confetti.classList.add('confetti');
                    
                    // Ù…ÙˆÙ‚Ø¹ÛŒØª ØªØµØ§Ø¯ÙÛŒ
                    confetti.style.left = `${Math.random() * 100}%`;
                    confetti.style.top = `${Math.random() * 100}%`;
                    
                    // Ø±Ù†Ú¯ ØªØµØ§Ø¯ÙÛŒ
                    const colors = ['#3b82f6', '#8b5cf6', '#ec4899', '#10b981', '#f59e0b'];
                    confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                    
                    // Ø§Ù†Ø¯Ø§Ø²Ù‡ ØªØµØ§Ø¯ÙÛŒ
                    const size = Math.random() * 10 + 5;
                    confetti.style.width = `${size}px`;
                    confetti.style.height = `${size}px`;
                    
                    // Ø§Ù†ÛŒÙ…ÛŒØ´Ù†
                    const duration = Math.random() * 3 + 2;
                    confetti.style.animation = `confetti ${duration}s ease-out forwards`;
                    
                    container.appendChild(confetti);
                    
                    // Ø­Ø°Ù Ø¨Ø¹Ø¯ Ø§Ø² Ø§Ù†ÛŒÙ…ÛŒØ´Ù†
                    setTimeout(() => {
                        confetti.remove();
                    }, duration * 1000);
                }
            }

            // Ù†Ù…Ø§ÛŒØ´ Ø¨Ø±Ù†Ø¯Ù‡
            window.showWinner = function(player, moves, time) {
                createConfetti(100);
                playSound('win');
                
                const modal = document.getElementById('winnerModal');
                const winnerIcon = document.getElementById('winnerIcon');
                const winnerName = document.getElementById('winnerName');
                const winnerDetails = document.getElementById('winnerDetails');
                const winnerMoves = document.getElementById('winnerMoves');
                const winnerTime = document.getElementById('winnerTime');
                const winnerPoints = document.getElementById('winnerPoints');
                const winnerTitle = document.getElementById('winnerTitle');
                
                // ØªÙ†Ø¸ÛŒÙ… Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø±Ù†Ø¯Ù‡
                winnerName.textContent = player === 'X' ? 'Ø¨Ø§Ø²ÛŒÚ©Ù† X' : 'Ø¨Ø§Ø²ÛŒÚ©Ù† O';
                winnerDetails.textContent = `Ø¯Ø± ${moves} Ø­Ø±Ú©Øª Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯!`;
                winnerMoves.textContent = moves;
                winnerTime.textContent = time;
                winnerPoints.textContent = `+${Math.floor(100 / moves)}`;
                
                // ØªØºÛŒÛŒØ± Ø±Ù†Ú¯ Ø¢ÛŒÚ©ÙˆÙ† Ø¨Ø±Ù†Ø¯Ù‡
                winnerIcon.innerHTML = player === 'X' ? 
                    '<i class="fas fa-times"></i>' : 
                    '<i class="fas fa-circle"></i>';
                winnerIcon.style.color = player === 'X' ? '#ef4444' : '#3b82f6';
                
                // ØªØºÛŒÛŒØ± Ø¹Ù†ÙˆØ§Ù†
                winnerTitle.textContent = player === 'X' ? 
                    'ğŸ‰ Ø¨Ø§Ø²ÛŒÚ©Ù† X Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯! ğŸ‰' : 
                    'ğŸ‰ Ø¨Ø§Ø²ÛŒÚ©Ù† O Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯! ğŸ‰';
                
                // Ù†Ù…Ø§ÛŒØ´ Ù…ÙˆØ¯Ø§Ù„
                modal.style.display = 'block';
                
                // Ù…Ø¯ÛŒØ±ÛŒØª Ø¨Ø³ØªÙ† Ù…ÙˆØ¯Ø§Ù„
                document.getElementById('modalClose').onclick = function() {
                    modal.style.display = 'none';
                };
                
                // Ø¯Ú©Ù…Ù‡ Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯
                document.getElementById('modalRematch').onclick = function() {
                    modal.style.display = 'none';
                    window.startNewGame();
                };
                
                // Ø¯Ú©Ù…Ù‡ Ø¨Ø§Ø²ÛŒ Ø¬Ø¯ÛŒØ¯
                document.getElementById('modalNewGame').onclick = function() {
                    modal.style.display = 'none';
                    window.startNewGame(true);
                };
                
                // Ø¯Ú©Ù…Ù‡ Ø§Ø´ØªØ±Ø§Ú©â€ŒÚ¯Ø°Ø§Ø±ÛŒ
                document.getElementById('modalShare').onclick = function() {
                    const shareText = `Ù…Ù† Ø¯Ø± Ø¨Ø§Ø²ÛŒ Ø¯ÙˆØ² Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯Ù…! ${player} Ø¯Ø± ${moves} Ø­Ø±Ú©Øª Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯. Ø§Ù…ØªÛŒØ§Ø²: ${Math.floor(100 / moves)}`;
                    if (navigator.share) {
                        navigator.share({
                            title: 'Ø¨Ø±Ù†Ø¯Ù‡ Ø¨Ø§Ø²ÛŒ Ø¯ÙˆØ²!',
                            text: shareText,
                            url: window.location.href
                        });
                    } else {
                        navigator.clipboard.writeText(shareText);
                        alert('Ù…ØªÙ† Ú©Ù¾ÛŒ Ø´Ø¯!');
                    }
                };
            };

            // Ù†Ù…Ø§ÛŒØ´ ØªØ³Ø§ÙˆÛŒ
            window.showDraw = function() {
                playSound('draw');
                
                const modal = document.getElementById('drawModal');
                modal.style.display = 'block';
                
                // Ø¨Ø³ØªÙ† Ù…ÙˆØ¯Ø§Ù„
                modal.querySelector('.modal-close').onclick = function() {
                    modal.style.display = 'none';
                };
                
                // Ø¨Ø§Ø²ÛŒ Ù…Ø¬Ø¯Ø¯
                document.getElementById('drawRematch').onclick = function() {
                    modal.style.display = 'none';
                    window.startNewGame();
                };
            };

            // ØªØ§ÛŒÙ…Ø± Ø¨Ø§Ø²ÛŒ
            let gameTime = 0;
            let timerInterval;
            
            window.startTimer = function() {
                clearInterval(timerInterval);
                gameTime = 0;
                updateTimerDisplay();
                timerInterval = setInterval(() => {
                    gameTime++;
                    updateTimerDisplay();
                }, 1000);
            };
            
            window.stopTimer = function() {
                clearInterval(timerInterval);
            };
            
            window.resetTimer = function() {
                gameTime = 0;
                updateTimerDisplay();
            };
            
            function updateTimerDisplay() {
                const minutes = Math.floor(gameTime / 60);
                const seconds = gameTime % 60;
                const timerElement = document.getElementById('gameTimer');
                timerElement.textContent = 
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                // Ù¾Ø§Ù„Ø³ Ø¯Ø± Ø¯Ù‚ÛŒÙ‚Ù‡ Ø¢Ø®Ø±
                if (gameTime > 60 && gameTime % 60 < 10) {
                    timerElement.classList.add('timer-pulse');
                } else {
                    timerElement.classList.remove('timer-pulse');
                }
            }

            // Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ø³Ù„Ø§ÛŒØ¯Ø± Ø²Ù…Ø§Ù† Ø­Ø±Ú©Øª
            const moveTimeSlider = document.getElementById('moveTime');
            const moveTimeValue = document.getElementById('moveTimeValue');
            
            moveTimeSlider.addEventListener('input', function() {
                moveTimeValue.textContent = this.value;
            });

            // Ù…Ø¯ÛŒØ±ÛŒØª ØªØºÛŒÛŒØ± Ø§Ù†Ø¯Ø§Ø²Ù‡ ØªØ®ØªÙ‡
            document.getElementById('boardSize').addEventListener('change', function() {
                const size = parseInt(this.value);
                alert(`ØªØºÛŒÛŒØ± Ø§Ù†Ø¯Ø§Ø²Ù‡ ØªØ®ØªÙ‡ Ø¨Ù‡ ${size}Ã—${size} Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø±ÛŒâ€ŒÙ„ÙˆØ¯ Ø¨Ø§Ø²ÛŒ Ø¯Ø§Ø±Ø¯.`);
                // Ø¯Ø± Ù†Ø³Ø®Ù‡ Ú©Ø§Ù…Ù„ Ø§ÛŒÙ† Ø¨Ø®Ø´ Ù¾ÛŒØ§Ø¯Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù…ÛŒâ€ŒØ´ÙˆØ¯
            });

            // Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ
            document.getElementById('hintBtn').addEventListener('click', function() {
                playSound('click');
                const hintText = document.getElementById('hintText');
                hintText.classList.add('hint-flash');
                setTimeout(() => {
                    hintText.classList.remove('hint-flash');
                }, 3000);
            });

            // Ù†Ù…Ø§ÛŒØ´ Ø³Ø±ÛŒØ¹ Ù…ÙˆØ¯Ø§Ù„â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ ØªØ³Øª
            window.addEventListener('keydown', function(e) {
                if (e.ctrlKey && e.key === 'w') {
                    showWinner('X', 5, 45);
                }
                if (e.ctrlKey && e.key === 'd') {
                    showDraw();
                }
            });
        });
    </script>
</body>
</html>
